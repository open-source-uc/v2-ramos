---
import Layout from '@/layouts/Layout.astro'
import { getCollection } from 'astro:content'
import { CodeSquare } from 'lucide-react'

const docs = await getCollection('docs')
const length = docs.length
docs.sort((a, b) => a.data.order - b.data.order)
// Put faq at the end
const faq = docs.shift()
docs.push(faq)
---

<Layout>
	<section class="tablet:py-20 mx-auto max-w-4xl px-4 py-16">
		<div class="mb-12 text-center">
			<h2 class="tablet:text-3xl desktop:text-4xl text-foreground mb-4 text-2xl font-bold">
				Documentación de BuscaRamos
			</h2>
			<p class="text-muted-foreground mx-auto max-w-2xl text-lg">
				Encuentra guías, tutoriales y ayuda para sacarle el máximo provecho a la plataforma.
			</p>
		</div>
		<div class="tablet:grid-cols-2 grid grid-cols-1 gap-6">
			{
				docs.map((doc) => (
					<a
						href={`/resources/documentation/${doc.slug}`}
						tabindex="0"
						aria-label={`Ver documentación: ${doc.data.title}`}
					>
						<article class="border-border bg-background hover:bg-card flex items-center gap-4 rounded-md border-2 p-6 transition-colors duration-300 focus-within:ring-2 hover:border-yellow-600 active:border-indigo-600">
							<div class="bg-primary-100 text-primary-700 flex h-12 w-12 items-center justify-center rounded-lg p-3 text-lg font-bold">
								{doc.data.order > 0 ? <span>{doc.data.order}</span> : <span>•</span>}
							</div>
							<div class="min-w-0 flex-1">
								<h3 class="text-card-foreground truncate text-xl font-semibold transition-colors">
									{doc.data.title}
								</h3>
								{doc.data.description && (
									<p class="text-muted-foreground mt-1 line-clamp-2 text-sm">
										{doc.data.description}
									</p>
								)}
							</div>
						</article>
					</a>
				))
			}
		</div>
	</section>
</Layout>
