---
import Layout from "../layouts/Layout.astro";
import { SearchableTableDisplay } from "../components/SearchableTableDisplay";

import { getCollection } from "astro:content";

const searchParam = Astro.url.searchParams.get("search") || "";

const coursesScore = await getCollection("coursesScore"); // ahora el tipo seria
/*
{
    id: string;
    body?: string;
    collection: "coursesScore";
    data: InferEntrySchema<"coursesScore">; !!!!! Aqui va la informacion del curso
    rendered?: RenderedContent;
    filePath?: string;
}[]
*/

// Extract the data property from the collection entries
const coursesData = coursesScore.map(entry => entry.data);

---

<Layout title="CatÃ¡logo de Cursos">
  <SearchableTableDisplay
    data={coursesData}
    initialSearchValue={searchParam}
    client:only="react"
  />
</Layout>
