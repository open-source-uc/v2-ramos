---
import { Pill } from '@/components/ui/pill'

interface Props {
	amountOfDocs: number
	docData: {
		title: string
		readtime: number
		description: string
		order: number
	}
}
const { docData, amountOfDocs } = Astro.props
---

<div class="mx-auto flex w-full max-w-4xl flex-col gap-4 px-4 py-8 sm:px-6">
	<div class="w-full">
		<a href="/resources/documentation" class="text-blue-500 hover:underline"
			>{`<-`} Volver al índice</a
		>
	</div>
	<!-- Header Section -->
	<header class="border-border mb-4 rounded-md border px-4 py-6 sm:px-6 sm:py-8">
		<div class="flex items-center justify-between gap-4">
			<h1 class="pb-4 text-2xl font-bold break-words sm:text-3xl">
				{docData.title}
			</h1>
		</div>
		<div class="mt-6 flex flex-wrap items-center gap-2 sm:mt-8">
			<Pill variant="blue" size="sm" className=""> Documentación </Pill>
			{
				docData.readtime && (
					<Pill variant="green" size="sm" className="">
						{docData.readtime} Minutos de lectura
					</Pill>
				)
			}
		</div>
		{
			docData.description && (
				<p class="text-muted-foreground mt-4 text-base">{docData.description}</p>
			)
		}
	</header>
	<!-- Main Content Section -->
	<article class="border-border min-w-0 overflow-hidden rounded-md border">
		<div class="px-4 py-6 sm:px-6 sm:py-8">
			<div
				class="text-foreground content-markdown max-w-none overflow-hidden leading-relaxed break-words"
			>
				<slot />
			</div>
		</div>
	</article>
	<!-- Navigation Section -->
	<div class="mt-6 flex justify-between">
		{
			docData.order > 1 ? (
				<a
					href={`/resources/documentation/${docData.order - 1}`}
					class="text-blue-500 hover:underline"
				>
					{'<-'} Anterior
				</a>
			) : docData.order === -1 ? (
				<a class="text-blue-500 hover:underline" href={`/resources/documentation/${amountOfDocs}`}>
					{'<-'} Anterior
				</a>
			) : (
				<a class="text-gray-500 hover:cursor-not-allowed">{'<-'} Anterior</a>
			)
		}
		{
			docData.order < amountOfDocs ? (
				<a
					href={`/resources/documentation/${docData.order + 1}`}
					class="text-blue-500 hover:underline"
				>
					Siguiente {`->`}
				</a>
			) : (
				<a class="text-blue-500 hover:underline" href="/resources/documentation/faq">
					FAQ
				</a>
			)
		}
	</div>
</div>
